{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Jaimi\\\\Desktop\\\\IN3007_Individual_Project\\\\movie-sentiment-app\\\\src\\\\components\\\\findSentimentPageComponents\\\\MovieTrailer.js\";\nimport React from \"react\";\nimport axios from \"axios\";\nimport YouTube from \"react-youtube\";\n\nclass MovieTrailer extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      movieId: this.props.movie_id,\n      videoId: \"\"\n    };\n  } // get the youtube id for the latest movie trailer\n\n\n  getVideoID() {\n    if (this.state.movieId !== null) {\n      const apiUrl = \"http://api.themoviedb.org/3/movie/\" + this.state.movieId + \"/videos?api_key=146fa0756d99220f8811aceb8a865301\";\n      axios.get(apiUrl).then(apiResponse => {\n        this.setState({\n          // get latest trailer added to the list of trailers\n          videoId: apiResponse.data.results[apiResponse.data.results.length - 1].key\n        });\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n  } // load the trailer paused\n\n\n  onReady(event) {\n    event.target.pauseVideo();\n  } // save any changes to the movie name to state\n\n\n  componentDidUpdate(prevProps) {\n    if (this.props !== prevProps) {\n      this.setState({\n        movieId: this.props.movie_id\n      });\n      this.getVideoID();\n    }\n  } // when the component mounts, get the movie id\n\n\n  componentDidMount() {\n    this.getVideoID();\n  }\n\n  render() {\n    const options = {\n      height: '390',\n      width: '640',\n      playerVars: {\n        autoplay: 1\n      }\n    };\n\n    if (this.state.videoId !== \"\") {\n      return React.createElement(YouTube, {\n        videoId: this.state.videoId,\n        opts: options,\n        onReady: this.onReady,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      });\n    } else {\n      return React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72\n        },\n        __self: this\n      }, \"No Trailer Yet\");\n    }\n  }\n\n}\n\nexport default MovieTrailer;","map":{"version":3,"sources":["C:/Users/Jaimi/Desktop/IN3007_Individual_Project/movie-sentiment-app/src/components/findSentimentPageComponents/MovieTrailer.js"],"names":["React","axios","YouTube","MovieTrailer","Component","constructor","props","state","movieId","movie_id","videoId","getVideoID","apiUrl","get","then","apiResponse","setState","data","results","length","key","catch","error","console","log","onReady","event","target","pauseVideo","componentDidUpdate","prevProps","componentDidMount","render","options","height","width","playerVars","autoplay"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,eAApB;;AAEA,MAAMC,YAAN,SAA2BH,KAAK,CAACI,SAAjC,CAA2C;AACvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,OAAO,EAAG,KAAKF,KAAL,CAAWG,QADZ;AAETC,MAAAA,OAAO,EAAG;AAFD,KAAb;AAKH,GARsC,CAUvC;;;AACAC,EAAAA,UAAU,GAAG;AACT,QAAI,KAAKJ,KAAL,CAAWC,OAAX,KAAuB,IAA3B,EAAiC;AAC7B,YAAMI,MAAM,GAAG,uCAAuC,KAAKL,KAAL,CAAWC,OAAlD,GAA4D,kDAA3E;AAEAP,MAAAA,KAAK,CAACY,GAAN,CAAUD,MAAV,EACCE,IADD,CACMC,WAAW,IAAI;AACjB,aAAKC,QAAL,CAAc;AACV;AACAN,UAAAA,OAAO,EAAGK,WAAW,CAACE,IAAZ,CAAiBC,OAAjB,CAAyBH,WAAW,CAACE,IAAZ,CAAiBC,OAAjB,CAAyBC,MAAzB,GAAkC,CAA3D,EAA8DC;AAF9D,SAAd;AAIH,OAND,EAOCC,KAPD,CAOOC,KAAK,IAAI;AACZC,QAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ;AACH,OATD;AAUH;AACJ,GA1BsC,CA4BvC;;;AACAG,EAAAA,OAAO,CAACC,KAAD,EAAQ;AACXA,IAAAA,KAAK,CAACC,MAAN,CAAaC,UAAb;AACH,GA/BsC,CAiCvC;;;AACAC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC1B,QAAI,KAAKxB,KAAL,KAAewB,SAAnB,EAA8B;AAC1B,WAAKd,QAAL,CAAc;AACVR,QAAAA,OAAO,EAAG,KAAKF,KAAL,CAAWG;AADX,OAAd;AAGA,WAAKE,UAAL;AACH;AACJ,GAzCsC,CA2CvC;;;AACAoB,EAAAA,iBAAiB,GAAG;AAChB,SAAKpB,UAAL;AACH;;AAEDqB,EAAAA,MAAM,GAAG;AACL,UAAMC,OAAO,GAAG;AACZC,MAAAA,MAAM,EAAE,KADI;AAEZC,MAAAA,KAAK,EAAE,KAFK;AAGZC,MAAAA,UAAU,EAAE;AACVC,QAAAA,QAAQ,EAAE;AADA;AAHA,KAAhB;;AAQA,QAAI,KAAK9B,KAAL,CAAWG,OAAX,KAAuB,EAA3B,EAA+B;AAC3B,aACI,oBAAC,OAAD;AACI,QAAA,OAAO,EAAE,KAAKH,KAAL,CAAWG,OADxB;AAEI,QAAA,IAAI,EAAEuB,OAFV;AAGI,QAAA,OAAO,EAAE,KAAKR,OAHlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAOH,KARD,MAQO;AACH,aACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADJ;AAGH;AACJ;;AAtEsC;;AAyE3C,eAAetB,YAAf","sourcesContent":["import React from \"react\"\r\nimport axios from \"axios\"\r\nimport YouTube from \"react-youtube\"\r\n\r\nclass MovieTrailer extends React.Component {\r\n    constructor(props) {\r\n        super(props)\r\n        this.state = {\r\n            movieId : this.props.movie_id,\r\n            videoId : \"\"\r\n            \r\n        }\r\n    }\r\n\r\n    // get the youtube id for the latest movie trailer\r\n    getVideoID() {\r\n        if (this.state.movieId !== null) {\r\n            const apiUrl = \"http://api.themoviedb.org/3/movie/\" + this.state.movieId + \"/videos?api_key=146fa0756d99220f8811aceb8a865301\"\r\n\r\n            axios.get(apiUrl)\r\n            .then(apiResponse => {\r\n                this.setState({\r\n                    // get latest trailer added to the list of trailers\r\n                    videoId : apiResponse.data.results[apiResponse.data.results.length - 1].key\r\n                })\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n            })\r\n        }\r\n    }\r\n\r\n    // load the trailer paused\r\n    onReady(event) {\r\n        event.target.pauseVideo()\r\n    }\r\n\r\n    // save any changes to the movie name to state\r\n    componentDidUpdate(prevProps) {\r\n        if (this.props !== prevProps) {\r\n            this.setState({\r\n                movieId : this.props.movie_id\r\n            })\r\n            this.getVideoID()\r\n        }\r\n    }\r\n\r\n    // when the component mounts, get the movie id\r\n    componentDidMount() {\r\n        this.getVideoID();\r\n    }\r\n\r\n    render() {\r\n        const options = {\r\n            height: '390',\r\n            width: '640',\r\n            playerVars: {\r\n              autoplay: 1\r\n            }\r\n        }\r\n\r\n        if (this.state.videoId !== \"\") {\r\n            return (\r\n                <YouTube \r\n                    videoId={this.state.videoId}\r\n                    opts={options}\r\n                    onReady={this.onReady} \r\n                />\r\n            )\r\n        } else {\r\n            return (\r\n                <h3>No Trailer Yet</h3>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default MovieTrailer"]},"metadata":{},"sourceType":"module"}